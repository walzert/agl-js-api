!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AGLJS=t():n.AGLJS=t()}(window,function(){return r={},u.m=e=[function(n,t){AFB=function(n,t){"object"!=typeof n&&(n={base:n,token:t});function e(n,t){this.token=n,this.uuid=t}var c,r,u={base:n.base||"api",token:n.token||t||"HELLO",host:n.host||window.location.host,url:n.url||void 0},o=u.url||"ws://"+u.host+"/"+u.base,i=void 0,a=u.token;e.prototype={get token(){return a},set token(n){n&&(a=n)},get uuid(){return i},set uuid(n){n&&(i=n)}},c=new e;function s(n,t,e,r){if(t in n){var u=n[t];delete n[t];try{u[r](e)}catch(n){}}}return(r=function(n,t){var e=o,r="?";c.token&&(e=e+"?x-afb-token="+c.token,r="&"),c.uuid&&(e=e+r+"x-afb-uuid="+c.uuid),this.ws=new WebSocket(e,["x-afb-ws-json1"]),this.url=e,this.pendings={},this.awaitens={},this.counter=0,this.ws.onopen=function(n){var t=this.onopen;delete this.onopen,delete this.onabort,t&&t(this)}.bind(this),this.ws.onerror=function(n){var t=this.onabort;t&&(delete this.onopen,delete this.onabort,t&&t(this));this.onerror&&this.onerror(this)}.bind(this),this.ws.onclose=function(n){var t={jtype:"afb-reply",request:{status:"disconnected",info:"server hung up"}};for(var e in this.pendings)try{this.pendings[e][1](t)}catch(n){}this.pendings={},this.onclose&&this.onclose()}.bind(this),this.ws.onmessage=function(n){var t=JSON.parse(n.data),e=t[0],r=t[1],u=t[2];switch(c.token=t[3],e){case 3:s(this.pendings,r,u,0);break;case 4:s(this.pendings,r,u,1);break;case 5:default:!function(n,t,e){var r=n[t];r&&r.forEach(function(n){n(e)});var u=t.indexOf("/");0<=u&&(r=n[t.substring(0,u)])&&r.forEach(function(n){n(e)});(r=n["*"])&&r.forEach(function(n){n(e)})}(this.awaitens,r,u)}}.bind(this),this.onopen=n,this.onabort=t}).prototype={close:function(){this.ws.close(),this.ws.onopen=this.ws.onerror=this.ws.onclose=this.ws.onmessage=this.onopen=this.onabort=function(){}},call:function(u,o,i){return new Promise(function(n,t){var e,r;if(i){if((e=String(i))in this.pendings)throw new Error("pending callid("+e+") exists")}else for(;(e=String(this.counter=4095&this.counter+1))in this.pendings;);this.pendings[e]=[n,t],r=[2,e,u,o],c.token&&r.push(c.token),this.ws.send(JSON.stringify(r))}.bind(this))},onevent:function(n,t){(this.awaitens[n]||(this.awaitens[n]=[])).push(t)}},{context:c,ws:r}}},function(n,t,e){"use strict";e.r(t),e.d(t,"afmMain",function(){return u}),e.d(t,"aglspeech",function(){return o}),e.d(t,"audiomixer",function(){return i}),e.d(t,"bluetooth",function(){return c}),e.d(t,"bluetoothmap",function(){return a}),e.d(t,"bluetoothpbap",function(){return c}),e.d(t,"cloudproxy",function(){return s}),e.d(t,"geoclue",function(){return f}),e.d(t,"geofence",function(){return d}),e.d(t,"gps",function(){return l}),e.d(t,"harvester",function(){return _}),e.d(t,"helloworld",function(){return p}),e.d(t,"highviwi",function(){return g}),e.d(t,"homescreen",function(){return v}),e.d(t,"hvac",function(){return h}),e.d(t,"identity",function(){return b}),e.d(t,"iiodevices",function(){return m}),e.d(t,"lowcan",function(){return y}),e.d(t,"mediaplayer",function(){return w}),e.d(t,"mediascanner",function(){return k}),e.d(t,"navigation",function(){return x}),e.d(t,"network",function(){return S}),e.d(t,"nfc",function(){return M}),e.d(t,"persistence",function(){return C}),e.d(t,"radio",function(){return j}),e.d(t,"signalcomposer",function(){return N}),e.d(t,"taskmanager",function(){return q}),e.d(t,"telephony",function(){return O}),e.d(t,"unicens",function(){return E}),e.d(t,"unicenscontroller",function(){return z}),e.d(t,"weather",function(){return B}),e.d(t,"api",function(){return r});var r={};e.r(r),e.d(r,"call",function(){return J}),e.d(r,"subscribe",function(){return T}),e.d(r,"init",function(){return W});var u={};e.r(u),e.d(u,"runnables",function(){return F}),e.d(u,"start",function(){return G});var o={};e.r(o),e.d(o,"subscribe",function(){return H}),e.d(o,"tts_play_prompt",function(){return R}),e.d(o,"get_tts_get_available_languages",function(){return D}),e.d(o,"stt_recognize",function(){return K}),e.d(o,"on_change",function(){return Q}),e.d(o,"on_event_tts_prompt_playing",function(){return V}),e.d(o,"on_event_tts_prompt_completed",function(){return X}),e.d(o,"on_event_stt_final_result",function(){return Y});var i={};e.r(i),e.d(i,"list_controls",function(){return Z}),e.d(i,"set_volume",function(){return $}),e.d(i,"on_volume_changed",function(){return nn}),e.d(i,"on_controls_changed",function(){return tn});var c={};e.r(c),e.d(c,"adapter_state",function(){return en}),e.d(c,"managed_objects",function(){return rn}),e.d(c,"pair",function(){return un}),e.d(c,"cancel_pairing",function(){return on}),e.d(c,"confirm_pairing",function(){return cn}),e.d(c,"remove_device",function(){return an}),e.d(c,"connect",function(){return sn}),e.d(c,"disconnect",function(){return fn}),e.d(c,"on_device_changes",function(){return dn});var a={};e.r(a),e.d(a,"compose",function(){return ln}),e.d(a,"get_message",function(){return _n}),e.d(a,"list_messages",function(){return pn}),e.d(a,"on_notification",function(){return gn});var s={};e.r(s),e.d(s,"ping",function(){return vn}),e.d(s,"sendMessage",function(){return hn}),e.d(s,"on_sendMessageConfirmation",function(){return bn}),e.d(s,"on_receivedMessage",function(){return mn});var f={};e.r(f),e.d(f,"get_location",function(){return yn}),e.d(f,"on_location",function(){return wn});var d={};e.r(d),e.d(d,"add_fence",function(){return kn}),e.d(d,"remove_fence",function(){return xn}),e.d(d,"get_list_fences",function(){return Sn}),e.d(d,"get_dwell_transition",function(){return Mn}),e.d(d,"set_dwell_transition",function(){return Cn}),e.d(d,"on_fence_event",function(){return jn});var l={};e.r(l),e.d(l,"get_location",function(){return Nn}),e.d(l,"do_record",function(){return qn}),e.d(l,"on_location",function(){return On});var _={};e.r(_),e.d(_,"auth",function(){return En}),e.d(_,"write",function(){return zn});var p={};e.r(p),e.d(p,"ping",function(){return Bn}),e.d(p,"testargs",function(){return Pn});var g={};e.r(g),e.d(g,"subscribe",function(){return Un}),e.d(g,"unsubscribe",function(){return In}),e.d(g,"get_board",function(){return Ln}),e.d(g,"get_board_fields",function(){return An});var v={};e.r(v),e.d(v,"showWindow",function(){return Jn});var h={};e.r(h),e.d(h,"get_temp_left_zone",function(){return Tn}),e.d(h,"get_temp_right_zone",function(){return Wn}),e.d(h,"get_fanspeed",function(){return Fn}),e.d(h,"get",function(){return Gn}),e.d(h,"set",function(){return Hn}),e.d(h,"set_temp_left_zone_led",function(){return Rn}),e.d(h,"set_temp_right_zone_led",function(){return Dn});var b={};e.r(b),e.d(b,"fake_login",function(){return Kn}),e.d(b,"logout",function(){return Qn}),e.d(b,"fake_auth",function(){return Vn}),e.d(b,"get",function(){return Xn}),e.d(b,"on_identity_event",function(){return Yn});var m={};e.r(m),e.d(m,"on_acceleration",function(){return Zn}),e.d(m,"on_gyroscope",function(){return $n}),e.d(m,"on_compass",function(){return nt});var y={};e.r(y),e.d(y,"list",function(){return tt}),e.d(y,"get",function(){return et});var w={};e.r(w),e.d(w,"playlist",function(){return rt}),e.d(w,"pickTrack",function(){return ut}),e.d(w,"loop",function(){return ot}),e.d(w,"seek",function(){return it}),e.d(w,"play",function(){return ct}),e.d(w,"pause",function(){return at}),e.d(w,"previous",function(){return st}),e.d(w,"next",function(){return ft}),e.d(w,"on_playlist_changes",function(){return dt}),e.d(w,"on_metadata_changes",function(){return lt});var k={};e.r(k),e.d(k,"get_media_result",function(){return _t}),e.d(k,"on_media_added",function(){return pt}),e.d(k,"on_media_removed",function(){return gt});var x={};e.r(x),e.d(x,"set_broadcast_status",function(){return vt}),e.d(x,"set_broadcast_position",function(){return ht}),e.d(x,"set_broadcast_waypoints",function(){return bt}),e.d(x,"on_status",function(){return mt}),e.d(x,"on_position",function(){return yt}),e.d(x,"on_waypoints",function(){return wt});var S={};e.r(S),e.d(S,"technologies",function(){return kt}),e.d(S,"services",function(){return xt}),e.d(S,"scan_services",function(){return St}),e.d(S,"on_global_state",function(){return Mt});var M={};e.r(M),e.d(M,"on_presence",function(){return Ct});var C={};e.r(C),e.d(C,"do_insert",function(){return jt}),e.d(C,"do_update",function(){return Nt}),e.d(C,"do_delete",function(){return qt}),e.d(C,"do_read",function(){return Ot});var j={};e.r(j),e.d(j,"get_frequency",function(){return Et}),e.d(j,"set_frequency",function(){return zt}),e.d(j,"get_band",function(){return Bt}),e.d(j,"set_band",function(){return Pt}),e.d(j,"get_band_supported",function(){return Ut}),e.d(j,"get_frequency_range",function(){return It}),e.d(j,"get_frequency_step",function(){return Lt}),e.d(j,"start",function(){return At}),e.d(j,"stop",function(){return Jt}),e.d(j,"scan_start",function(){return Tt}),e.d(j,"scan_stop",function(){return Wt}),e.d(j,"get_stereo_mode",function(){return Ft}),e.d(j,"set_stereo_mode",function(){return Gt}),e.d(j,"on_frequency",function(){return Ht}),e.d(j,"on_station_found",function(){return Rt}),e.d(j,"on_status",function(){return Dt});var N={};e.r(N),e.d(N,"get",function(){return Kt}),e.d(N,"list",function(){return Qt}),e.d(N,"addObjects",function(){return Vt});var q={};e.r(q),e.d(q,"get_process_list",function(){return Xt}),e.d(q,"kill_process",function(){return Yt}),e.d(q,"get_extra_info",function(){return Zt}),e.d(q,"get_load_avg",function(){return $t}),e.d(q,"get_netstat",function(){return ne});var O={};e.r(O),e.d(O,"dial",function(){return te}),e.d(O,"hangup",function(){return ee}),e.d(O,"answer",function(){return re}),e.d(O,"on_callStateChanged",function(){return ue}),e.d(O,"on_dialingCall",function(){return oe}),e.d(O,"on_incomingCall",function(){return ie}),e.d(O,"on_terminatedCall",function(){return ce}),e.d(O,"on_online",function(){return ae});var E={};e.r(E),e.d(E,"get_listconfig",function(){return se}),e.d(E,"initialise",function(){return fe}),e.d(E,"subscriberx",function(){return de}),e.d(E,"writei2c",function(){return le}),e.d(E,"sendmessage",function(){return _e}),e.d(E,"on_node_availibility",function(){return pe}),e.d(E,"on_rx_message",function(){return ge});var z={};e.r(z),e.d(z,"set_slimamp_master_volume",function(){return ve}),e.d(z,"set_amplifier_master_volume",function(){return he}),e.d(z,"get_microphone_is_available",function(){return be}),e.d(z,"set_microphone_mode",function(){return me}),e.d(z,"get_microphone_doa",function(){return ye}),e.d(z,"set_microphone_doa",function(){return we}),e.d(z,"set_microphone_static_color",function(){return ke});var B={};e.r(B),e.d(B,"current_weather",function(){return xe}),e.d(B,"api_key",function(){return Se});e(0);var P,U=document.location.hostname,I=document.location.port,L=new URLSearchParams(document.location.search.substring(1)),A=L.get("x-afb-token")||L.get("token")||"HELLO";function J(r,u){return new Promise(function(t,e){var n=new P.ws(function(){n.call(r,u).then(function(n){t(n.response)},function(n){e(n)})},function(){e("ws aborted")})})}function T(u,o,i){return new Promise(function(e,t){var r=new P.ws(function(){r.call(u,o).then(function(n){var t=u.split("/")[0]+"/"+(o.value?o.value:o.event);r.onevent(t,function(n){i(n.data)}),e()},function(n){t(n)})},function(){t("ws aborted")})})}function W(){P=new AFB({host:U+":"+I,token:A})}function F(){return J("afm-main/runnables",{})}function G(n){return J("afm-main/start",{id:n})}function H(){return J("agl-speech/subscribe",{})}function R(n,t){return J("agl-speech/tts_play_prompt",{language:n,text:t})}function D(){return J("agl-speech/tts_get_available_languages",{})}function K(){return J("agl-speech/stt_recognize",{})}function Q(n){return T("agl-speech/subscribe",{value:"change"},n)}function V(n){return T("agl-speech/subscribe",{value:"event_tts_prompt_playing"},n)}function X(n){return T("agl-speech/subscribe",{value:"event_tts_prompt_completed"},n)}function Y(n){return T("agl-speech/subscribe",{value:"event_stt_final_result"},n)}function Z(){return J("audiomixer/list_controls",{})}function $(n,t){return J("audiomixer/volume",{control:n,value:t})}function nn(n){return T("audiomixer/subscribe",{event:"volume_changed"},n)}function tn(n){return T("audiomixer/subscribe",{event:"controls_changed"},n)}function en(n){return J("Bluetooth-Manager/adapter_state",n||{})}function rn(){return J("Bluetooth-Manager/managed_objects",{})}function un(n){return J("Bluetooth-Manager/pair",{device:n})}function on(){return J("Bluetooth-Manager/cancel_pairing",{})}function cn(n){return J("Bluetooth-Manager/confirm_pairing",{pincode:n})}function an(n){return J("Bluetooth-Manager/remove_device",{device:n})}function sn(n){return J("Bluetooth-Manager/connect",{device:n})}function fn(n){return J("Bluetooth-Manager/disconnect",{device:n})}function dn(n){return T("Bluetooth-Manager/subscribe",{value:"device_changes"},n)}function ln(n,t){return J("bluetooth-map/compose",{recipient:n,message:t})}function _n(n){return J("bluetooth-map/message",{handle:n})}function pn(n){return J("bluetooth-map/list_messages",{folder:n})}function gn(n){return T("bluetooth-map/subscribe",{value:"notification"},n)}function vn(){return J("cloudproxy/ping",{})}function hn(n){return J("cloudproxy/sendMessage",{data:n})}function bn(n){return T("cloudproxy/subscribe",{value:"sendMessageConfirmation"},n)}function mn(n){return T("cloudproxy/subscribe",{value:"receivedMessage"},n)}function yn(){return J("geoclue/location",{})}function wn(n){return T("geoclue/subscribe",{value:"location"},n)}function kn(n,t){return J("geofence/add_fence",{name:n,bbox:t})}function xn(n){return J("geofence/set",{name:n})}function Sn(){return J("geofence/list_fences",{})}function Mn(){return J("geofence/dwell_transition",{})}function Cn(n){return J("geofence/dwell_transition",{value:n})}function jn(n){return T("geofence/subscribe",{value:"fence_event"},n)}function Nn(){return J("gps/location",{})}function qn(n){return J("gps/do_record",{state:n})}function On(n){return T("gps/subscribe",{value:"location"},n)}function En(){return J("harvester/auth",{})}function zn(n){return J("harvester/write",{metric:n})}function Bn(){return J("helloworld/ping",{})}function Pn(n){return J("helloworld/set",{cezam:n})}function Un(n,t){return J("high-viwi/subscribe",{name:n,interval:t})}function In(n,t){return J("high-viwi/unsubscribe",{name:n,interval:t})}function Ln(n){return J("high-viwi/get",{name:n})}function An(n,t){return J("high-viwi/get",{name:n,fields:t})}function Jn(n){return J("homescreen/showWindow",{application_id:n,parameter:{area:"normal.full"}})}function Tn(){return J("hvac/get_temp_left_zone",{})}function Wn(){return J("hvac/get_temp_right_zone",{})}function Fn(){return J("hvac/get_fanspeed",{})}function Gn(){return J("hvac/get",{})}function Hn(n,t){return J("hvac/set",{i:n,comp:t})}function Rn(){return J("hvac/temp_left_zone_led",{})}function Dn(){return J("hvac/temp_right_zone_led",{})}function Kn(){return J("identity/fake-login",{})}function Qn(){return J("identity/logout",{})}function Vn(){return J("identity/fake-auth",{})}function Xn(){return J("identity/get",{})}function Yn(n){return T("identity/subscribe",{value:"event"},n)}function Zn(n,t,e,r){return T("iiodevices/subscribe",{event:"acceleration",args:e,frequency:r},n)}function $n(n,t,e,r){return T("iiodevices/subscribe",{event:"gyroscope",args:e,frequency:r},n)}function nt(n,t,e,r){return T("iiodevices/subscribe",{event:"compass",args:e,frequency:r},n)}function tt(){return J("low-can/list",{})}function et(n){return J("low-can/get",{event:n})}function rt(){return J("mediaplayer/playlist",{})}function ut(n){return J("mediaplayer/controls",{value:"pick-track",index:n})}function ot(n){return J("mediaplayer/controls",{value:"loop"})}function it(n){return J("mediaplayer/controls",{value:"seek",position:n})}function ct(){return J("mediaplayer/controls",{value:"play"})}function at(){return J("mediaplayer/controls",{value:"pause"})}function st(){return J("mediaplayer/controls",{value:"previous"})}function ft(){return J("mediaplayer/controls",{value:"next"})}function dt(n){return T("mediaplayer/subscribe",{value:"playlist"},n)}function lt(n){return T("mediaplayer/subscribe",{value:"metadata"},n)}function _t(){return J("mediascanner/media_result",{})}function pt(n){return T("mediascanner/subscribe",{value:"media_added"},n)}function gt(n){return T("mediascanner/subscribe",{value:"media_removed"},n)}function vt(n){return J("navigation/broadcast_status",{state:n})}function ht(n){return J("navigation/broadcast_position",{position:n})}function bt(n){return J("navigation/broadcast_waypoints",{waypoints:n})}function mt(n){return T("navigation/subscribe",{value:"status"},n)}function yt(n){return T("navigation/subscribe",{value:"position"},n)}function wt(n){return T("navigation/subscribe",{value:"waypoints"},n)}function kt(){return J("network-manager/technologies",{})}function xt(){return J("network-manager/services",{})}function St(n){return J("network-manager/scan_services",n)}function Mt(n){return T("network-manager/subscribe",{value:"global_state"},n)}function Ct(n){return T("nfc/subscribe",{value:"presence"},n)}function jt(n,t){return J("persistence/insert",{key:n,value:t})}function Nt(n,t){return J("persistence/update",{key:n,value:t})}function qt(n){return J("persistence/delete",{key:n})}function Ot(n){return J("persistence/read",{key:n})}function Et(){return J("radio/frequency",{})}function zt(n){return J("radio/frequency",{value:n})}function Bt(){return J("radio/band",{})}function Pt(n){return J("radio/band",{band:n})}function Ut(n){return J("radio/band_supported",{band:n})}function It(n){return J("radio/frequency_range",{band:n})}function Lt(n){return J("radio/frequency_range",{band:n})}function At(){return J("radio/start",{})}function Jt(){return J("radio/stop",{})}function Tt(n){return J("radio/scan_start",{direction:n})}function Wt(){return J("radio/scan_stop",{})}function Ft(){return J("radio/stereo_mode",{})}function Gt(n){return J("radio/stereo_mode",{value:n})}function Ht(n){return T("radio/subscribe",{value:"frequency"},n)}function Rt(n){return T("radio/subscribe",{value:"station_found"},n)}function Dt(n){return T("radio/subscribe",{value:"status"},n)}function Kt(n){return J("signal-composer/get",{signal:n})}function Qt(){return J("signal-composer/list",{})}function Vt(n){return J("signal-composer/addObjects",{file:n})}function Xt(){return J("taskmanager/get_process_list",{})}function Yt(n){return J("taskmanager/kill_process",{tid:n})}function Zt(n){return J("taskmanager/get_extra_info",{tid:n})}function $t(){return J("taskmanager/get_load_avg",{})}function ne(){return J("taskmanager/get_netstat",{})}function te(n){return J("telephony/dial",{value:n})}function ee(){return J("telephony/hangup",{})}function re(){return J("telephony/answer",{})}function ue(n){return T("telephony/callStateChanged",{value:"callStateChanged"},n)}function oe(n){return T("telephony/subscribe",{value:"dialingCall"},n)}function ie(n){return T("telephony/subscribe",{value:"incomingCall"},n)}function ce(n){return T("telephony/subscribe",{value:"terminatedCall"},n)}function ae(n){return T("telephony/subscribe",{value:"online"},n)}function se(n){return J("UNICENS/listconfig",{cfgpath:n})}function fe(n){return J("UNICENS/initialise",{filename:n})}function de(){return J("UNICENS/subscriberx",{})}function le(n,t){return J("UNICENS/writei2c",{node:n,data:t})}function _e(n,t,e){return J("UNICENS/sendmessage",{node:n,msgid:t,data:e})}function pe(n){return T("UNICENS/subscribe",{value:"node-availibility"},n)}function ge(n){return T("UNICENS/subscribex",{value:"rx-message"},n)}function ve(n){return J("unicens-controller/slimamp_master_volume_set",{value:n})}function he(n){return J("unicens-controller/amplifier_master_volume_set",{value:n})}function be(){return J("unicens-controller/microphone_is_available",{})}function me(n){return J("unicens-controller/microphone_mode_set",{value:n})}function ye(){return J("unicens-controller/microphone_doa_get",{})}function we(n){return J("unicens-controller/microphone_doa_set",{value:n})}function ke(n,t,e){return J("unicens-controller/microphone_static_color_set",{red:n,green:t,blue:e})}function xe(){return J("weather/current_weather",{})}function Se(n){return J("weather/api_key",{value:n})}metadata,W()}],u.c=r,u.d=function(n,t,e){u.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},u.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},u.t=function(t,n){if(1&n&&(t=u(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(u.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)u.d(e,r,function(n){return t[n]}.bind(null,r));return e},u.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return u.d(t,"a",t),t},u.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},u.p="",u(u.s=1);function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}var e,r});